<!DOCTYPE html>
<html>
<%if (current_user.verified == "true") && ((current_user.user_type == "admin")||(current_user.user_type == "dev"))%>
  <head>
    <% t = @Users %>
    <h1><%="Editing User: "+t.fname+" "+t.lname %></h1>
  </head>
  <body>
  <p>Verified: <%=t.verified %></p>
  <p>User Type: <%=t.user_type %></p>
<% end %>

<!--Form for Editing User, autofills with current info-->
<%= form_for @Users do |f| %>

  <div class="form-control">
    <%= f.label "First Name"%>
    <%= f.text_field  :fname, required: true, value: t.fname  %>
  </div>

  <div class="form-control">
    <%= f.label "Last Name"%>
    <%= f.text_field  :lname, required: true, value: t.lname  %>
  </div>

  <div class="form-control">
    <%= f.label "Name dot number"%>
    <%= f.text_field  :nameDotNumber, required: true, disabled: true, value: t.nameDotNumber  %>
  </div>

  <div class="form-control">
    <%= f.label "Year"%>
    <%= f.text_field  :year, required: true, value: t.year  %>
  </div>
  <!--Checkbox to unverify users-->
  <%= f.label "Verified"%>
  <% if ((t.user_type=="dev" || t.user_type=='admin') && current_user.user_type!="dev") %>
    <p>Value: <%=t.verified %>, cannot be changed user is equal or higher to your auth level.</p>
  <% else %>

  <% if (t.verified=="true") %>

    <%= check_box_tag "Verified", 1, {:checked => "checked"}  %>
  <% else %>
    <%= check_box_tag "Verified", 0  %>
  <% end %>
  <br>
  <% end %>
  <div class="form-control">
    <%= f.label "User Type"%>
    <% if ((t.user_type=="dev" || t.user_type=='admin') && current_user.user_type!="dev") %>
      <p>Value: <%=t.user_type %>, cannot be changed user is equal or higher to your auth level.</p>
    <% else %>
      <%= f.text_field  "User Type", required: true, value: t.user_type  %>
    <% end %>
  </div>

  <div class="form-control">
    <!--Passes Name dot Number to Controller-->
    <%= hidden_field_tag(:nameNum, params[:nameDotNumber]) %>
    <%= f.submit 'Update Entry'%>
  </div>
<% end %>

</body>
<!--Return to User Select Screen-->
<%= button_to "Return", "/admin/users/show?nameDotNumber=", method: :get, params: {:nameDotNumber => params[:nameDotNumber]}%>

</html>
